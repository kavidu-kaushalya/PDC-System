<UserControl x:Class="PDC_System.EmployeeWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PDC_System"
             mc:Ignorable="d" 
             MinWidth="1004" MinHeight="660"
             FontFamily="{StaticResource CustomFont}">

    <!-- MAIN GRID -->
    <Grid Margin="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Title -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
            <RowDefinition Height="*"/>
            <!-- DataGrid AUTO RESIZE -->
        </Grid.RowDefinitions>


        <!-- TITLE -->
        <StackPanel Grid.Row="0">

            <TextBlock Text="Employee" 
                       FontSize="20" 
                       FontWeight="SemiBold" 
                       Foreground="{DynamicResource Forground}" />

            <TextBlock Text="Show all Plate,Digital and Any" 
                       FontSize="12" 
                       Foreground="#FF7D7D7D"
                       Padding="0,0,0,18"/>
        </StackPanel>


        <!-- BUTTONS + SEARCH -->
        <StackPanel Grid.Row="1">

            <Button Content="Add Employee"
                    Click="AddEmployee_Click"
                    Width="200"
                    Style="{StaticResource ActionButton}"
                    Margin="0,0,0,10"/>

            <TextBox x:Name="SearchBox"
                     Height="35"
                     Width="300"
                     Style="{DynamicResource OutsourceSerchBar}"
                     TextChanged="SearchBox_TextChanged"/>

        </StackPanel>



        <!-- DATAGRID AUTO RESIZE -->
        <DataGrid Grid.Row="2"
                  x:Name="EmployeeDataGrid"
                  AutoGenerateColumns="False"

                  AlternatingRowBackground="#f0f0f0"
                  SnapsToDevicePixels="True"

                  CanUserResizeColumns="False"

                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"

                  CellStyle="{StaticResource DataGridCellStyle}"
                  Style="{StaticResource DataGridStyle}"
                  ColumnHeaderStyle="{StaticResource DataGridHeaderStyle}"
                  RowStyle="{StaticResource DataGridRowStyle}">

            <DataGrid.Columns>



                <DataGridTextColumn Header="ID"
                                    Binding="{Binding EmployeeId}"
                                    Width="*"
                                    ElementStyle="{StaticResource NameColumnStyle}"/>
                

                <DataGridTextColumn Header="Name"
                                    Binding="{Binding Name}"
                                    Width="*"
                                    ElementStyle="{StaticResource NameColumnStyle}"/>


                
                <DataGridTextColumn Header="NIC"
                                    Binding="{Binding NID}"
                                    Width="*"
                                    ElementStyle="{StaticResource NameColumnStyle}"/>

                <DataGridTextColumn Header="Birthday"
                                    Binding="{Binding Birthday, StringFormat={}{0:dd MMMM yyyy}}"
                                    Width="*"
                                    ElementStyle="{StaticResource NameColumnStyle}"/>

                <DataGridTextColumn Header="City"
                         Binding="{Binding City}"
                         Width="*"
                         ElementStyle="{StaticResource NameColumnStyle}"/>
                

                <DataGridTextColumn Header="Contact No"
                                    Binding="{Binding Contactn1}"
                                    Width="*"
                                    ElementStyle="{StaticResource NameColumnStyle}"/>

                <DataGridTemplateColumn Header="Action" Width="*">

                    <DataGridTemplateColumn.CellTemplate>

                        <DataTemplate>

                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Center">

                                <Button Content="Delete"
                                        Click="DeleteEmployee_Click"
                                        Height="30"
                                        Width="60"
                                        Style="{StaticResource NavigationButtonStyle}"/>

                                <Button Content="Edit"
                                        Click="EditEmployee_Click"
                                        Tag="{Binding}"
                                        Style="{DynamicResource ActionButton}"
                                        Padding="5"/>

                            </StackPanel>

                        </DataTemplate>

                    </DataGridTemplateColumn.CellTemplate>

                </DataGridTemplateColumn>

            </DataGrid.Columns>

        </DataGrid>

    </Grid>

</UserControl>